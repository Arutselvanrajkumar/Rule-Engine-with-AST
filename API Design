public Node CreateRule(string ruleString)
{
    // Parse the rule string and create the AST
    // This is a recursive parser function
    // Example: (age > 30 AND department = 'Sales') becomes an AST with "AND" as the root
    
    // Simplified parser code (assumes well-formed input)
    Stack<Node> nodes = new Stack<Node>();
    string[] tokens = ruleString.Split(' ');

    foreach (var token in tokens)
    {
        if (token == "AND" || token == "OR")
        {
            var right = nodes.Pop();
            var left = nodes.Pop();
            var operatorNode = new Node("operator", token) { Left = left, Right = right };
            nodes.Push(operatorNode);
        }
        else if (IsCondition(token))
        {
            nodes.Push(new Node("operand", token));
        }
    }

    return nodes.Pop();
}
